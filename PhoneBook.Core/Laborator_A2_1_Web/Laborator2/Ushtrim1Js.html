
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title>Ushtrim1</title>
    <link href="../Content/bootstrap.min.css" rel="stylesheet" />
    <link href="../Content/bootstrap.css" rel="stylesheet" />
    <script src="../Scripts/jquery-3.4.1.js"></script>
    <script src="../Scripts/jquery-3.4.1.min.js"></script>
    <script src="../Scripts/jquery-3.4.1.slim.js"></script>
    <script src="../Scripts/jquery-3.4.1.slim.min.js"></script>
    <script src="../Scripts/bootstrap.js"></script>
</head>

<body>
    <div style="padding:10px; margin:10px;">
        <br />
        <div class="row">
            <div class="col-md-6">
                <label class="control-label">Selektoni nje punonjes</label>
                <select id="punonjesit" class="form-control" onchange="AfishoPunonjes()">
                    <option value="">Selektoni</option>
                    <option value="1">Olta Dedej</option>
                    <option value="2">Test1Emri TestMbiemri</option>
                    <option value="3">Test2Emri Test2Mbiemri</option>
                </select>
            </div>
            <div class="col-md-6">
                <div class="row">
                    <div class="col-md-6">
                        <label class="control-label">Emri i punonjesit</label>
                    </div>
                    <div class="col-md-6">
                        <label class="control-label pull-left" id="afishimEmri"></label>

                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label class=" control-label">Mbiemri i punonjesit</label>
                    </div>
                    <div class="col-md-6">
                        <label class="control-label pull-left" id="afishimMbiemri"></label>
                    </div>
                </div>

            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="row">
                    <div class=" col-md-6">
                        <label class="control-label">Emri i punonjesit te ri</label>
                    </div>
                    <div class=" col-md-6">
                        <input type="text" class="form-control" id="newName" />
                    </div>
                </div>


                <br />
                <div class="row">
                    <div class=" col-md-6">
                        <label class="control-label">Mbiemri i punonjesit te ri</label>
                    </div>
                    <div class=" col-md-6">
                        <input type="text" class="form-control" id="newSurname" />
                    </div>
                </div>
            </div>
        </div>

        <div class="row text-center">
            <br />
            <div class="col-md-12 text-center">
                <button id="AddPunonjes" class=" btn-primary" onclick="ShtoPunonjes()">Shto punonjes</button>
            </div>
        </div>
    </div>

    <script type="text/javascript">

        function AfishoPunonjes() {
            debugger;
            var selectList = document.getElementById('punonjesit'); // referenca e listes
            if (selectList.value !== null && selectList.value !== "" && selectList.value !== "undefined") {

                var lbEmri = document.getElementById('afishimEmri'); //reference per labelin qe do afishoje emrin
                var lbMbiemri = document.getElementById('afishimMbiemri');
                var selectedOption = selectList.options[selectList.value]; // merr punonjesin e selektuar
                var textofSelectedOption = selectedOption.text.split(' '); // Olta Dedej  [Olta, Dedej]
                if (textofSelectedOption.length === 2) {
                    lbEmri.innerHTML = textofSelectedOption[0]; // [0] --Olta
                    lbMbiemri.innerHTML = textofSelectedOption[1]; //[1] -->Dedej
                }
                else {
                    alert("Elementi i perzgjedhur permban nje punonjes ku emri i tij nuk perbehet nga ekzaktesisht dy pjese");
                }

            }
        }

        function ShtoPunonjes() {
            debugger;
            var select = document.getElementById('punonjesit');
            //ne js let dhe var jane e njejta gje por aktualisht let perdoret me shume se sa var
            let newName = document.getElementById('newName');
            let newSurname = document.getElementById('newSurname');

            if ((newName.value !== null && newName.value !== "" && newName.value !== "undefined") && (newSurname.value !== null && newSurname.value !== "" && newSurname.value !== "undefined")) {

                var numberOfEmployees = select.options.length // merr numrin e elementeve option te listes -->4
                var opt = document.createElement('option'); // <option> </option>
                opt.value = (parseInt(numberOfEmployees) + 1).toString(); // <option value  ="5"> </option>
                opt.innerHTML = newName.value + " " + newSurname.value; //<option value="5"> Punonjes1 PunonjesSurname</option>
                select.appendChild(opt);
                newName.innerHTML = "";
                newSurname.innerHTML = "";
                newName.value = "";
                newSurname.value = "";
            }

        }

    </script>
</body>
</html>